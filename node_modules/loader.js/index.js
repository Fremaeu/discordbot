'use strict';
var shouldUseInstrumentedBuild = require('./utils').shouldUseInstrumentedBuild;

module.exports = {
  name: 'loader.js',

  init: function() {
    this._super.init && this._super.init.apply(this, arguments);

    this.treePaths['vendor'] = 'dist';
  },

  included: function() {
    if (false /* hotfix */&& shouldUseInstrumentedBuild()) {
      this.app.import('vendor/loader/loader.instrument.js', {
        _prepend: true,
        get prepend() {
          return this._prepend;
        },
        set prepend(value) {
          this._prepend = value;
        },
      })
    } else {
      this.app.import('vendor/loader/loader.js', {
        prepend: true
      });
    }
  }
};
